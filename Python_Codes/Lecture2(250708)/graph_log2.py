import numpy as np
import matplotlib.pyplot as plt

x_log_data = np.array(
    [
        0.015625,
        0.031250,
        0.046875,
        0.062500,
        0.078125,
        0.093750,
        0.109375,
        0.125000,
        0.156250,
        0.187500,
        0.218750,
        0.250000,
        0.312500,
        0.375000,
        0.437500,
        0.500000,
        0.625000,
        0.750000,
        0.875000,
        1.000000,
        1.250000,
        1.500000,
        1.750000,
        2.000000,
        2.250000,
        2.500000,
        2.750000,
        3.000000,
        3.250000,
        3.500000,
        3.750000,
        4.000000,
        4.250000,
        4.500000,
        4.750000,
        5.000000,
    ]
)

y_log_approx = np.array(
    [
        -6.000000,
        -5.000000,
        -4.500000,
        -4.000000,
        -3.750000,
        -3.500000,
        -3.250000,
        -3.000000,
        -2.750000,
        -2.500000,
        -2.250000,
        -2.000000,
        -1.750000,
        -1.500000,
        -1.250000,
        -1.000000,
        -0.750000,
        -0.500000,
        -0.250000,
        0.000000,
        0.250000,
        0.500000,
        0.750000,
        1.000000,
        1.125000,
        1.250000,
        1.375000,
        1.500000,
        1.625000,
        1.750000,
        1.875000,
        2.000000,
        2.062500,
        2.125000,
        2.187500,
        2.250000,
    ]
)


y_log_true = np.log2(x_log_data)

plt.figure(figsize=(8, 5))
plt.plot(x_log_data, y_log_true, label="True log2(x)", color="blue")
plt.plot(x_log_data, y_log_approx, "o-", label="Verilog log2_approx", color="red")
plt.title("log2 Approximation Comparison")
plt.xlabel("Input x")
plt.ylabel("log2(x)")
plt.legend()
plt.grid()
plt.show()
