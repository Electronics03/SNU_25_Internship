import numpy as np
import matplotlib.pyplot as plt

x_log_data = np.array(
    [
        0.031250,
        0.062500,
        0.093750,
        0.125000,
        0.156250,
        0.187500,
        0.218750,
        0.250000,
        0.281250,
        0.312500,
        0.343750,
        0.375000,
        0.406250,
        0.437500,
        0.468750,
        0.500000,
        0.531250,
        0.562500,
        0.593750,
        0.625000,
        0.656250,
        0.687500,
        0.718750,
        0.750000,
        0.781250,
        0.812500,
        0.843750,
        0.875000,
        0.906250,
        0.937500,
        0.968750,
        1.000000,
        1.062500,
        1.125000,
        1.187500,
        1.250000,
        1.312500,
        1.375000,
        1.437500,
        1.500000,
        1.562500,
        1.625000,
        1.687500,
        1.750000,
        1.812500,
        1.875000,
        1.937500,
        2.000000,
    ]
)

y_log_approx = np.array(
    [
        -5.000000,
        -4.000000,
        -3.500000,
        -3.000000,
        -2.750000,
        -2.500000,
        -2.250000,
        -2.000000,
        -1.875000,
        -1.750000,
        -1.625000,
        -1.500000,
        -1.375000,
        -1.250000,
        -1.125000,
        -1.000000,
        -0.937500,
        -0.875000,
        -0.812500,
        -0.750000,
        -0.687500,
        -0.625000,
        -0.562500,
        -0.500000,
        -0.437500,
        -0.375000,
        -0.312500,
        -0.250000,
        -0.187500,
        -0.125000,
        -0.062500,
        0.000000,
        0.062500,
        0.125000,
        0.187500,
        0.250000,
        0.312500,
        0.375000,
        0.437500,
        0.500000,
        0.562500,
        0.625000,
        0.687500,
        0.750000,
        0.812500,
        0.875000,
        0.937500,
        1.000000,
    ]
)

y_log_true = np.log2(x_log_data)

plt.figure(figsize=(8, 5))
plt.plot(x_log_data, y_log_true, label="True log2(x)", color="blue")
plt.plot(x_log_data, y_log_approx, "o-", label="Verilog log2_approx", color="red")
plt.title("log2 Approximation Comparison")
plt.xlabel("Input x")
plt.ylabel("log2(x)")
plt.legend()
plt.grid()
plt.show()
