import numpy as np
from time import sleep


def float_to_q612(arr):
    scaled = np.round(arr * 1024)
    clipped = np.clip(scaled, -32768, 32767)
    return clipped.astype(np.int16)


for _ in range(16):
    vec_float = np.random.uniform(low=-3, high=3, size=64)
    vec_q610 = float_to_q612(vec_float)

    for i, val in enumerate(vec_float):
        print(f"{val:.5f}", end=", ")
        if i % 8 == 7:
            print()

    for i, val in enumerate(vec_q610):
        print(f"16'h{int(val) & 0xFFFF:04X}", end=", ")
        if i % 8 == 7:
            print()
    sleep(1)
    print()

[
    -1.93970,
    -1.21396,
    -0.82251,
    2.80920,
    0.23248,
    -0.46695,
    0.93456,
    1.44613,
    1.01832,
    -1.64372,
    2.24751,
    -0.94158,
    -0.66628,
    1.72770,
    0.92534,
    -2.85810,
    -2.76504,
    2.88372,
    -2.96188,
    1.58371,
    -2.22268,
    -0.39637,
    -2.39967,
    2.39763,
    -0.24042,
    -1.68281,
    1.97719,
    -1.91904,
    -0.48673,
    -1.82014,
    1.02701,
    0.36310,
    0.86912,
    1.14943,
    1.14285,
    -1.99196,
    2.29152,
    -0.46037,
    0.00068,
    -0.63641,
    -1.84032,
    -1.83395,
    2.53901,
    -1.92320,
    0.77572,
    0.13094,
    -0.18857,
    -0.92261,
    2.59419,
    -1.95266,
    -1.09418,
    2.94138,
    -0.04374,
    2.26154,
    -1.49364,
    2.97352,
    1.88447,
    -1.74006,
    -0.67265,
    -0.44724,
    0.82108,
    -2.15806,
    -1.37315,
    -1.87181,
]
